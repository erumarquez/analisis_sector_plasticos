plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup() %>%
as.Date(Periodo, format="%d/%m/%Y")
View(plasticos_ipim)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim_fecha <- plasticos_ipim %>% as.Date(Periodo, format="%d/%m/%Y")
plasticos_ipim
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(as.Date(Periodo, format="%d/%m/%Y"))
View(plasticos_ipim_fecha)
mutate(periodo = date_parse(periodo, format = "%d-%m-%Y")
View(plasticos_ipim_fecha)
View(plasticos_ipim_fecha)
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(periodo = date_parse(periodo, format = "%d-%m-%Y"))
View(plasticos_ipim_fecha)
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(periodo = date_parse(periodo, format = "%d-%m-%Y"))
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(periodo = date_parse(periodo, format = "%d-%m-%Y"))
View(plasticos_ipim_fecha)
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(periodo = as.Date(periodo, format = "%d-%m-%Y"))
View(plasticos_ipim)
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(periodo = as.Date(periodo, format = "%d-%m-%Y"))
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(Periodo = as.Date(Periodo, format = "%d-%m-%Y"))
View(plasticos_ipim_fecha)
plasticos_ipim_fecha
View(plasticos_ipim_fecha)
View(plasticos_ipim_fecha)
View(plasticos_ipim)
View(plasticos_ipim_fecha)
View(IPIM)
View(plasticos_ipim)
View(plasticos_ipim)
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(Periodo = as.Date(Periodo, format = "%Y-%m-%d"))
plasticos_ipim_fecha
plasticos_ipim_fecha <- plasticos_ipim %>%
mutate(Periodo = as.Date(Periodo, format = "%d-%m-%Y"))
plasticos_ipim_fecha
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
View(plasticos_ipim)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
View(plasticos_ipim)
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim
View(plasticos_ipim)
lubridate::dmy()
library(lubridate)
lubridate::dmy()
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
format(date, "%d/%m/%y")
lubridate::dmy()
format(plasticos_ipim$Periodo, "%d/%m/%y")
View(plasticos_ipim)
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d/%m/%y")
plasticos_ipim
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
rm(list = ls())
library(googlesheets4)
library(googledrive)
library(tidyverse)
library(clock)
library(writexl)
library(readxl)
library(lubridate)
googledrive::drive_auth("mdointerno@gmail.com")
gs4_auth(token = drive_token())
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY")
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY", col_types = paste(replicate(ncol(IPIM), "c"), collapse = ""))  # IPIM
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo")
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo", col_types = paste(replicate(ncol(IPI), "c"), collapse = ""))   # IPI
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo)
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
rm(list = ls())
library(googlesheets4)
library(googledrive)
library(tidyverse)
library(clock)
library(writexl)
library(readxl)
library(lubridate)
googledrive::drive_auth("mdointerno@gmail.com")
gs4_auth(token = drive_token())
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY")
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY", col_types = paste(replicate(ncol(IPIM), "c"), collapse = ""))  # IPIM
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo")
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo", col_types = paste(replicate(ncol(IPI), "c"), collapse = ""))   # IPI
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
View(plasticos_ipim)
lubridate::dmy()
plasticos_ipim <- plasticos_ipim %>%
select(-nro) %>%
group_by(concepto, Periodo) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) #los valores con que se llenan las celdas
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
View(plasticos_ipim)
rm(list = ls())
# 01. Carga de bases y paquetes -------------------------------------------
library(googlesheets4)
library(googledrive)
library(tidyverse)
library(clock)
library(writexl)
library(readxl)
library(lubridate)
googledrive::drive_auth("mdointerno@gmail.com")
gs4_auth(token = drive_token())
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY")
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY", col_types = paste(replicate(ncol(IPIM), "c"), collapse = ""))  # IPIM
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo")
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo", col_types = paste(replicate(ncol(IPI), "c"), collapse = ""))   # IPI
## me falta hacer la api de precios internacionales
# 02. Procesamiento ----------------------------------------------------
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim <- plasticos_ipim %>%
select(-nro) %>%
group_by(concepto, Periodo) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) #los valores con que se llenan las celdas
plasticos_ipim
View(plasticos_ipim)
View(plasticos_ipim)
View(plasticos_ipim)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
select(-nro) %>%
group_by(concepto) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) #los valores con que se llenan las celdas
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(concepto,Periodo) %>%
ungroup()
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(Periodo, concepto) %>%
arrange(Periodo)
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%  #le indico que columnas juntar
group_by(Periodo, concepto) %>%
arrange(Periodo)
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%
select(-nro)
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83) %>%
group_by(Periodo, concepto) %>%
ungroup()
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
group_by(Periodo, concepto) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice)
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice)
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo)
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro)
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice)
View(plasticos_ipim)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice)
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
View(plasticos_ipim)
plasticos_ipim
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format == "%d-%m-%Y")
plasticos_ipim
Sys.Date()
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo = format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
mutate(Periodo = as.Date(Periodo, format = "%d-%m-%Y"))
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
mutate(Periodo = as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y"))
plasticos_ipim
plasticos_ipim$Periodo <-as.Date(plasticos_ipim$Periodo, origin = "1899-12-30")
plasticos_ipim
plasticos_ipim$Periodo <-as.Date(plasticos_ipim$Periodo, origin = "30-12-1899")
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
mutate(Periodo = as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y"))
plasticos_ipim
plasticos_ipim$Periodo <- as.Date(as.character(plasticos_ipim$Periodo), format = "%Y-%m-%d")
plasticos_ipim$New_Periodo <- format(plasticos_ipim$Periodo, "%d-%m-%Y")
plasticos_ipim
plasticos_ipim$Periodo <- as.Date(as.character(plasticos_ipim$Periodo), format = "%d-%m-%Y")
plasticos_ipim
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim
plasticos_ipim$Periodo <- as.Date(as.character(plasticos_ipim$Periodo, format = "%d-%m-%Y"))
plasticos_ipim
Sys.Date()
dmy()
dmy(plasticos_ipim$Periodo)
View(plasticos_ipim)
dmy(help)
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim
plasticos_ipim$Periodo <- dmY(plasticos_ipim$Periodo)
?dmY()
help(dmY)
??dmY()
View(plasticos_ipim)
plasticos_ipim$Periodo <- dmY(plasticos_ipim$Periodo)
plasticos_ipim$Periodo <- dmy(plasticos_ipim$Periodo)
plasticos_ipim
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim
View(plasticos_ipim)
plasticos_ipim$año <- año(dmy(plasticos_ipim$Periodo))
plasticos_ipim$año <- year(dmy(plasticos_ipim$Periodo))
plasticos_ipim
View(plasticos_ipim)
View(plasticos_ipim)
plasticos_ipim <- plasticos_ipim %>%
arrange(año)
plasticos_ipim
plasticos_ipim <- plasticos_ipim %>%
arrange(año) %>%
select(-año)
plasticos_ipim
View(plasticos_ipim)
View(plasticos_ipim)
View(plasticos_ipim)
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo)
plasticos_ipim
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim <- IPIM[c(74,83,86),]
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
rm(list = ls())
library(googlesheets4)
library(googledrive)
library(tidyverse)
library(clock)
library(writexl)
library(readxl)
library(lubridate)
googledrive::drive_auth("mdointerno@gmail.com")
gs4_auth(token = drive_token())
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY")
IPIM <- read_sheet("1ObdXPlbpqM0FUF-P3G7-Vftc6Dkk861sPMZYcysi1MY", col_types = paste(replicate(ncol(IPIM), "c"), collapse = ""))  # IPIM
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo")
IPI  <- read_sheet("1iMpwsnu4VioJURPICSqdsWbyi4jcEtBzp0CNlBaSpSo", col_types = paste(replicate(ncol(IPI), "c"), collapse = ""))   # IPI
plasticos_ipim <- IPIM[c(74,83,86),]
View(plasticos_ipim)
plasticos_ipim <- plasticos_ipim %>% gather(., # el . llama a lo que esta atras del %>%
key   = Periodo,
value = Indice,
3:83)
plasticos_ipim <- plasticos_ipim %>%
arrange(Periodo) %>%
select(-nro) %>%
spread(. ,
key   = concepto, #la llave es la variable que va a dar los nombres de columna
value = Indice) %>%
na.omit()
plasticos_ipim$año <- year(dmy(plasticos_ipim$Periodo))
plasticos_ipim <- plasticos_ipim %>%
arrange(año) %>%
select(-año)
plasticos_ipim
plasticos_ipim$Periodo =  as.Date(plasticos_ipim$Periodo, format = "%d-%m-%Y")
plasticos_ipim
View(plasticos_ipim)
View(plasticos_ipim)
View(plasticos_ipim)
